# CookBook
## Описание
В этом проекте разработано небольшое приложение поварской книги на Django, со следующим функционалом:

### База данных 
В базе данных приложения храниться список продуктов. Продукт имеет название, а также целочисленное поле, хранящее информацию о том, сколько раз было приготовлено блюдо с использованием этого продукта. Также в базе данных хранятся рецепты блюд. Рецепт имеет название, а также набор входящих в рецепт продуктов, с указанием веса в граммах.

Например - рецепт Сырник, в который входят продукты Творог 200г, Яйцо 50г, Сахар 10г.

Один и тот же продукт, может использоваться в разных рецептах. Один и тот же продукт не может быть использован в одном рецепте дважды.

### Функционал
#### Приложение предоставляет следующие HTTP функции, получающие параметры методом GET
- add_product_to_recipe с параметрами recipe_id, product_id, weight. Функция добавляет к указанному рецепту указанный продукт с указанным весом. Если в рецепте уже есть такой продукт, то функция должна поменять его вес в этом рецепте на указанный. Пример: http://127.0.0.1:8000/recipes/add_product_to_recipe?recipe_id=1&product_id=1&weight=1000
- cook_recipe c параметром recipe_id. Функция увеличивает на единицу количество приготовленных блюд для каждого продукта, входящего в указанный рецепт. Пример: http://127.0.0.1:8000/recipes/cook_recipe?recipe_id=1
- show_recipes_without_product с параметром product_id. Функция возвращает HTML страницу, на которой размещена таблица. В таблице отображены id и названия всех рецептов, в которых указанный продукт отсутствует, или присутствует в количестве меньше 10 грамм. Страница должна генерироваться с использованием Django templates. Качество HTML верстки не оценивается. Пример: http://127.0.0.1:8000/recipes/show_recipes_without_product?product_id=1

### Админка
Средствами django настроена админка, где пользователь может управлять входящими в базу данных продуктами и рецептами. Для рецептов есть возможность редактировать входящие в их состав продукты и их вес в граммах.

#### Технологии

- Python 3.10
- Django 5.0.1
- PostgreSQL
- python-dotenv

### Как запустить проект:

Клонировать репозиторий и перейти в него в командной строке:

```
git clone git@github.com:OlegMusatov3000/CookBook.git
```

Перейдите в основную директорию проекта 

```
cd CookBook
```
В файле .env_copy находится инструкция по заполнению секретных данных для подключения к PostgreSQL.

Cоздать виртуальное окружение:

- Команда для Windows

```
python -m venv venv
```

- Для Linux и macOS:

```
python3.10 -m venv venv
```

Активировать виртуальное окружение:

- Команда для Windows:

```
source venv/Scripts/activate
```

- Для Linux и macOS:

```
source venv/bin/activate
```

Установить зависимости из файла requirements.txt:

```
python -m pip install --upgrade pip
```

```
pip install -r requirements.txt
```

Перейти в папку c web-приложением:

```
cd backend
```

Выполнить миграции:

```
python manage.py migrate
```

Создать суперпользователя:

```
python manage.py createsuperuser
```

Запустить проект:

```
python manage.py runserver
```

**_Ссылка на [админ-зону](http://127.0.0.1:8000/admin/ "Гиперссылка к админке.")_**

### Небольшое примечание

Если в процессе запуска и тестирования возникли проблемы, пожалуйста свяжитесь со мной (контакты ниже) для устранения ошибок и решения проблем с запуском

### Автор проекта 
- Олег Мусатов
- Tg: @OlegMusatov